<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comparador de Comercializadoras - EnergyTelco</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Men√∫ de Navegaci√≥n -->
    <header>
        <div class="logo">
            <h1>EnergyTelco</h1>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="asesoria-energetica.html">Asesor√≠a Energ√©tica</a></li>
                <li><a href="comparador.html">Comparador</a></li>
                <li><a href="tienda.html">Tienda</a></li>
                <li><a href="contacto.html">Contacto</a></li>
            </ul>
        </nav>
    </header>

    <!-- Secci√≥n de Comparador -->
    <section id="comparador">
        <h2>Comparador de Comercializadoras</h2>
        <p>Consulta las mejores ofertas de energ√≠a y telecomunicaciones disponibles para ti.</p>

        <form id="form-comparador">
            <label for="consumo">Consumo estimado mensual (kWh):</label>
            <input type="number" id="consumo" name="consumo" required>

            <label for="codigo-postal">C√≥digo Postal:</label>
            <input type="text" id="codigo-postal" name="codigo-postal" required>

            <label for="energia">Tipo de Energ√≠a:</label>
            <select id="energia" name="energia">
                <option value="electricidad">Electricidad</option>
                <option value="gas">Gas</option>
                <option value="ambos">Ambos</option>
            </select>

            <button type="submit">Comparar</button>
        </form>

        <table id="tabla-comparacion">
            <thead>
                <tr>
                    <th>Comercializadora</th>
                    <th>Precio por kWh</th>
                    <th>Duraci√≥n del contrato</th>
                    <th>Tipo de tarifa</th>
                    <th>Enlace para contratar</th>
                </tr>
            </thead>
            <tbody>
                <!-- Aqu√≠ se agregar√°n din√°micamente las opciones de comercializadoras -->
            </tbody>
        </table>
    </section>

    <!-- Pie de P√°gina -->
    <footer>
        <p>¬© 2024 EnergyTelco. Todos los derechos reservados.</p>
    </footer>

    <!-- Chatbot flotante -->
    <div id="chatbot">
        <div id="chat-icon" onclick="toggleChat()">
            üí¨
        </div>
        <div id="chat-window" class="hidden">
            <div id="chat-header">
                <h3>Asistente EnergyTelco</h3>
                <button onclick="toggleChat()">X</button>
            </div>
            <div id="chat-messages"></div>
            <input type="text" id="chat-input" placeholder="Escribe tu mensaje..." onkeydown="handleChat(event)">
        </div>
    </div>

    <!-- C√≥digo JavaScript para funcionalidad del comparador -->
    <script>
        document.getElementById('form-comparador').addEventListener('submit', function(event) {
            event.preventDefault();

            // Obt√©n los datos del formulario
            const consumo = document.getElementById('consumo').value;
            const codigoPostal = document.getElementById('codigo-postal').value;
            const energia = document.getElementById('energia').value;

            // Simula la obtenci√≥n de resultados de comercializadoras
            const comercializadoras = [
                { nombre: 'Comercializadora A', precio: '0.12 ‚Ç¨/kWh', contrato: '12 meses', tarifa: 'Fija', enlace: '#' },
                { nombre: 'Comercializadora B', precio: '0.10 ‚Ç¨/kWh', contrato: '6 meses', tarifa: 'Variable', enlace: '#' },
                { nombre: 'Comercializadora C', precio: '0.11 ‚Ç¨/kWh', contrato: '24 meses', tarifa: 'Fija', enlace: '#' }
            ];

            // Limpiar la tabla antes de agregar nuevos datos
            const tabla = document.getElementById('tabla-comparacion').getElementsByTagName('tbody')[0];
            tabla.innerHTML = '';

            // Agregar comercializadoras a la tabla
            comercializadoras.forEach(function(comercializadora) {
                const row = tabla.insertRow();
                row.innerHTML = `
                    <td>${comercializadora.nombre}</td>
                    <td>${comercializadora.precio}</td>
                    <td>${comercializadora.contrato}</td>
                    <td>${comercializadora.tarifa}</td>
                    <td><a href="${comercializadora.enlace}">Contratar</a></td>
                `;
            });
        });
    </script>

</body>
</html>

